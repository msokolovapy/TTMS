{% extends "login.html" %}

{% block title %}
User Dashboard
{% endblock %}

{% block content %}
    <h1>Welcome to the User Dashboard, {{ user_name }}!</h1>
    <form action="/users" method="POST">
        <label for="choose_available_booking_date">Select an available date to book:</label>
        <select id="choose_available_booking_date" name="choose_available_booking_date">
            {% for date in all_available_bookings_period_60_days %}
                <option value="{{ date['original'] }}">{{ date['formatted'] }}</option>
            {% endfor %}
        </select>
        <button type="submit" name="action" value="new_booking">Make New Booking</button>
    </form>

    <form action="/users" method="POST">
        <!-- Form for deleting an existing booking -->
        <label for="delete_booking_date">Select a booking to cancel:</label>
        <select id="delete_booking_date" name="delete_booking_date">
            {% for date in available_user_booking %}
                <option value="{{ date['original'] }}">{{ date['formatted'] }}</option>
            {% endfor %}
        </select>
        <button type="submit" name="action" value="delete_booking">Cancel Booking</button>
    </form>

    <a href="{{ url_for('logout') }}">Logout</a>
{% endblock %}
